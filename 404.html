<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Loading…</title>
    <meta name="robots" content="noindex">
    <style>
      html,body{height:100%}
      body{display:flex;align-items:center;justify-content:center;background:#0a0a0a;color:#eee;font-family:system-ui,Segoe UI,Roboto,Arial}
      .box{opacity:.9;text-align:center}
    </style>
  </head>
  <body>
    <div class="box">Loading…</div>
    <script>
      (function(){
        var path = location.pathname + location.search + location.hash;
        if (location.pathname === '/login' || location.pathname === '/') {
          // hand back to index.html with original desired path
          location.replace('/index.html?p=' + encodeURIComponent('/login'));
          return;
        }
        if (location.pathname === '/signup') {
          location.replace('/signup.html?p=' + encodeURIComponent('/signup'));
          return;
        }
        // /{userId}/overview -> overview.html (app code rewrites bar back to pretty)
        if (/^\/[^\/]+\/overview\/?$/.test(location.pathname)) {
          location.replace('/overview.html?p=' + encodeURIComponent(location.pathname));
          return;
        }
        // default: send all other routes to index.html
        location.replace('/index.html?p=' + encodeURIComponent(path));
      })();
    </script>
  </body>
</html>
